{% extends "main.j2" %}
{% block content %}

<h1>Customers</h1>
<table>
    <thead>
        <tr>
            {% for key in customers[0].keys() %}
            <th>{{ key }}</th>
            {% endfor %}
            <th></th>
        </tr>
    </thead>
    <tbody>
        {% for customer in customers %}
        <tr>
            <td>{{ customer.customerID }}</td>
            <td>{{ customer.firstName }}</td>
            <td>{{ customer.lastName }}</td>
            <td>{{ customer.email }}</td>
            <td>{{ customer.phoneNo }}</td>
            <td>{{ customer.cardNumber }}</td>
            <td>{{ customer.dateCreated }}</td>
            <form id="delete_customer_form_{{ customer.customerID }}">
                <input type="hidden" name="delete_customer_id" value="{{ customer.customerID }}">
                <td><button type="submit">Delete</button></td>
            </form>
        </tr>
        {% endfor %}
    </tbody>
</table>

<h2>Create Customer</h2>
<form id="create_customer_form">
    <input name="firstName" placeholder="First Name" required>
    <input name="lastName" placeholder="Last Name" required>
    <input name="email" type="email" placeholder="Email">
    <input name="phoneNo" placeholder="Phone Number">
    <input name="cardNumber" placeholder="Card Number">
    <input name="dateCreated" type="date">
    <input type="submit">
</form>

<hr>

<h1>Products</h1>
<table>
    <thead>
        <tr>
            {% for key in products[0].keys() %}
            <th>{{ key }}</th>
            {% endfor %}
            <th></th>
        </tr>
    </thead>
    <tbody>
        {% for product in products %}
        <tr>
            <td>{{ product.sku }}</td>
            <td>{{ product.productName }}</td>
            <td>{{ product.productDesc }}</td>
            <td>{{ product.price }}</td>
            <td>{{ product.volume }}</td>
            <td>{{ product.weight }}</td>
            <td>{{ product.Category }}</td>
            <form id="delete_product_form_{{ product.sku }}">
                <input type="hidden" name="delete_sku" value="{{ product.sku }}">
                <td><button type="submit">Delete</button></td>
            </form>
        </tr>
        {% endfor %}
    </tbody>
</table>

<h2>Create Product</h2>
<form id="create_product_form">
    <input name="sku" placeholder="SKU" required>
    <input name="productName" placeholder="Name" required>
    <input name="productDesc" placeholder="Description">
    <input name="price" type="number" step="0.01" placeholder="Price">
    <input name="volume" type="number" step="0.01" placeholder="Volume">
    <input name="weight" type="number" step="0.01" placeholder="Weight">
    <input name="Category" placeholder="Category">
    <input type="submit">
</form>

<hr>

<h1>Logistics</h1>
<table>
    <thead>
        <tr>
            {% for key in logistics[0].keys() %}
            <th>{{ key }}</th>
            {% endfor %}
            <th></th>
        </tr>
    </thead>
    <tbody>
        {% for courier in logistics %}
        <tr>
            <td>{{ courier.courierID }}</td>
            <td>{{ courier.courierName }}</td>
            <td>{{ courier.shippingTime }}</td>
            <form id="delete_courier_form_{{ courier.courierID }}">
                <input type="hidden" name="delete_courier_id" value="{{ courier.courierID }}">
                <td><button type="submit">Delete</button></td>
            </form>
        </tr>
        {% endfor %}
    </tbody>
</table>

<h2>Create Courier</h2>
<form id="create_courier_form">
    <input name="courierName" placeholder="Courier Name" required>
    <input name="shippingTime" type="number" placeholder="Shipping Time (days)">
    <input type="submit">
</form>

<hr>

<h1>Sales</h1>
<table>
    <thead>
        <tr>
            {% for key in sales[0].keys() %}
            <th>{{ key }}</th>
            {% endfor %}
            <th></th>
        </tr>
    </thead>
    <tbody>
        {% for sale in sales %}
        <tr>
            <td>{{ sale.salesID }}</td>
            <td>{{ sale.address }}</td>
            <td>{{ sale.country }}</td>
            <td>{{ sale.dateOfSale }}</td>
            <td>{{ sale.orderAmount }}</td>
            <td>{{ sale.orderStatus }}</td>
            <td>{{ sale.customerID }}</td>
            <td>{{ sale.courierID }}</td>
            <form id="delete_sale_form_{{ sale.salesID }}">
                <input type="hidden" name="delete_sales_id" value="{{ sale.salesID }}">
                <td><button type="submit">Delete</button></td>
            </form>
        </tr>
        {% endfor %}
    </tbody>
</table>

<h2>Create Sale</h2>
<form id="create_sale_form">
    <input name="address" placeholder="Address" required>
    <input name="country" placeholder="Country" required>
    <input name="dateOfSale" type="date" required>
    <input name="orderAmount" type="number" step="0.01" required placeholder="Order Amount">
    <input name="orderStatus" placeholder="Status" required>

    <label>Customer:</label>
    <select name="customerID" required>
        <option value="" disabled selected>Select Customer</option>
        {% for customer in customer_options %}
        <option value="{{ customer.customerID }}">{{ customer.firstName }} {{ customer.lastName }}</option>
        {% endfor %}
    </select>

    <label>Courier:</label>
    <select name="courierID" required>
        <option value="" disabled selected>Select Courier</option>
        {% for courier in couriers %}
        <option value="{{ courier.courierID }}">{{ courier.courierName }}</option>
        {% endfor %}
    </select>

    <input type="submit">
</form>

{% endblock %}
